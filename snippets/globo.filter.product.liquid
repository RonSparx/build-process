{% comment %}Do not edit this file{% endcomment %}
{% raw %}
{% assign root_url = {% endraw %}"{%- if routes.root_url != "/" -%}{{ routes.root_url }}{%- endif -%}"{% raw %} %}
{% assign currencyFormat = {% endraw %}{{ shop.money_format | json }}{% raw %} %}
{% assign swatch_options = '' | downcase | replace: ', ', ',' | split: ","  %}
{% assign image_options  = '' | downcase | replace: ', ', ',' | split: ","  %}
{% assign text_options   = '' | downcase | replace: ', ', ',' | split: ","  %}
{% assign show_selected_variant_info = true %}

{% assign image_size     = '500x500' %}
{% assign images_count   = product.images | size %}
{% assign variants_count = product.variants | size %}
{% assign options_count  = product.options | size %}
{% assign no_image = 'https://cdn.shopify.com/s/images/themes/product-1.png' %}

{% assign featured_image            = product.featured_image %}
{% assign product_price             = product.price %}
{% assign product_compare_at_price  = product.compare_at_price %}
{% assign second_image_index        = 2 %}
{% assign selected_or_first_available_variant = product.selected_or_first_available_variant %}

{% if show_selected_variant_info and product.selected_variant %}
{% assign selected_or_first_available_variant = product.selected_variant %}
{% assign product_price             = selected_or_first_available_variant.price %}
{% assign product_compare_at_price  = selected_or_first_available_variant.compare_at_price %}
{% if selected_or_first_available_variant.image %}
{% assign featured_image  = selected_or_first_available_variant.image %}
{% endif %}
{% for image in product.images %}
{% if image.id == featured_image.id %}
{% if forloop.index == images_count %}
{% assign second_image_index = 1 %}
{% else %}
{% assign second_image_index = forloop.index | plus: 1 %}
{% endif %}
{% endif %}
{% endfor %}
{% endif %}

{% assign show = true %}
{% for variant in product.variants %}
{% if variant.inventory_quantity > 1 or variant.inventory_policy == 'continue' %}
{% assign show = true %}
{% endif %}
{% endfor %}
{% if show %}
{% unless product.type == 'tumi gift' %}
{% for product in collection.products %}
  
{% endfor %}
 

<div class="spf-col-xl-4 spf-col-lg-4 spf-col-md-6 spf-col-sm-6 spf-col-6">
  <div class="spf-product-card spf-product-card__ spf-product-card__template-2{% unless product.available %} spf-soldout{% endunless %}">
	<div class="prouct-card-wrapper">
    <div class="spf-product-card__inner" style="position: relative;"> 
      {% unless product.available %}
      {% endunless %}
      <span class="gray-overlay"></span> 
      <div class="collection-product_media">
          <div class="product-tag-wrap">
              {% if product.tags contains "new" %}
                    <div class="product-cart__tag {% unless product.available %} hide-tag {% endunless %}" style="
                    font-size: 13px;
                    text-transform: uppercase;
                    font-weight: 500;
                    top: 15px;
                    width: 100%;
                    margin: 0;
                    padding: 0;
                    display: inline-block;
                    left: 13.5px !important;
                    line-height: 12px;
                    color: #1b1c1e;
                    margin: 0 auto;
                    background:none !important;
                  ">
                     <span class="tag-new">new</span>
                </div>
              
        
        {% elsif product.tags contains "recycled" %}
                    <div class="product-cart__tag {% unless product.available %} hide-tag {% endunless %}" style="
                    font-size: 13px;
                    text-transform: uppercase;
                    font-weight: 500;
                    top: 15px;
                    width: 100%;
                    margin: 0;
                    padding: 0;
                    display: inline-block;
                    left: 13.5px !important;
                    line-height: 12px;
                    color: #1b1c1e;
                    margin: 0 auto;
                    background:none !important;
                    ">
                       <span class="tag-recycled">recycled</span>
                </div>
        
        {% elsif product.tags contains "exclusive" %}
                    <div class="product-cart__tag {% unless product.available %} hide-tag {% endunless %}" style="
                    font-size: 13px;
                    text-transform: uppercase;
                    font-weight: 500;
                    top: 15px;
                    width: 100%;
                    margin: 0;
                    padding: 0;
                    display: inline-block;
                    left: 13.5px !important;
                    line-height: 12px;
                    color: #1b1c1e;
                    margin: 0 auto;
                    background:none !important;
                    ">
                      <span class="tag-exclusive">Exclusive</span>
                </div>
        
        {% elsif product.tags contains "last available" %}
                    <div class="product-cart__tag {% unless product.available %} hide-tag {% endunless %}" style="
                    font-size: 13px;
                    text-transform: uppercase;
                    font-weight: 500;
                    top: 15px;
                    width: 100%;
                    margin: 0;
                    padding: 0;
                    display: inline-block;
                    left: 13.5px !important;
                    line-height: 12px;
                    color: #1b1c1e;
                    margin: 0 auto;
                    background:none !important;
                    ">
                      <span class="last-available">LAST AVAILABLE</span>
              </div>
        {% endif %}
        
             
        {% for variant in product.variants %}
        {% assign variantQty = variant.inventory_quantity  %}
        {% endfor %} 
        
        {% if variantQty <= 1 %}            
        <span class="sold-out-tag" data="{{ variantQty }}">
          Sold Out 
        </span>  
        {% endif %}
        
        </div>
        
          <a class="spf-product-card__image-wrapper" href="{{root_url}}{{product.url}}" style="padding-top:100%; padding-top:100%;">
   
        {% if images_count > 0 %}
       {% assign countImg = 0 %} {% for image in product.images %} {% assign countImg = countImg | plus: 1 %}
        <img
             data-variants="{% if image.variant_ids %}{{image.variant_ids | join: ','}}{% endif %}"
             data-img-count="{{ countImg }}"
             class="item gflazyload spf-product-card__image spf-product-card__image-{% if featured_image.id == image.id %}main{% elsif forloop.index == second_image_index %}secondary{% else %}hidden{% endif %}"
             srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
             src="{{image.src | img_url: image_size}}"
             data-src="{{image.src | img_lazyload_url}}"
             data-sizes="auto"
             data-aspectratio="{{image.aspect_ratio}}"
             data-parent-fit="contain"
             alt="{{image.alt | escape}}"
             />
        {% endfor %}
        {% else %}
        <img data-variants="" class="spf-product-card__image spf-product-card__image-main" src="{{image.src | img_url: image_size}}" alt="{{product.title | escape}}">
        {% endif %}
           <div class="spf-image-wrapper-change">
        {% assign countImg = 0 %} {% for image in product.images %} {% assign countImg = countImg | plus: 1 %}
              <div data-img-count="{{ countImg }}"
                   class="spf-product-card__image-change"
                   data-src="{{image.src | img_url: image_size}}"
                   data-sizes="auto"
                   data-aspectratio="{{image.aspect_ratio}}"
                   data-parent-fit="contain"
                   alt="{{image.alt | escape}}"
                   data-handle="{{image.src | img_url: image_size}}"
                   >
              </div>
           {% endfor %}
        </div>
      </a>
        <div class="product-card_dots">
          {% assign product_count = product.images.size  %}
          {% assign count = 0 %}{% for i in (1..product_count) %} {% assign count = count | plus: 1 %}
            <div id="dots-item-{{ count }}" data-count="{{ count }}" data-img-count="{{ count }}" data-handle="{{image.src | image_size}}" class="product-card_dot {% if forloop.index == 2 %} active {% endif %}"></div>
         {% endfor %}
        </div>
      </div>
      
    </div>

    <div class="spf-product__info">  
      <div class="h3 spf-product-cart_type">{{product.type}}</div>
      <h2 class="h4 spf-product-card__title"><a translatable href="{{root_url}}{{ product.url | within: collection }}">{{product.title}}</a></h2>
      
      <div class="spf-product_card-container">
      <div class="spf-product-card__price-wrapper">
        {% if product_compare_at_price > product_price %}
        <span class="spf-product-card__oldprice{% unless currencyFormat contains 'money' %} money{% endunless %}">{{ product_compare_at_price | money }}</span>
        <span class="spf-product-card__saleprice{% unless currencyFormat contains 'money' %} money{% endunless %}">{{ product_price | money }}</span>
        {% else %}
        <span class="spf-product-card__price{% unless currencyFormat contains 'money' %} money{% endunless %}">{{ product_price | money }}</span>
        {% endif %}
      </div>
      <div class="compair-wrapper">
     <div class="compair-wrapper_list">
          <span class="checkbox">
              <input type="checkbox" class="checkbox-comparition" value="{{ product.handle }}" data="{{ product.id }}">
              <span class="compare-tooltip">
                  Compare up to 3 products
              </span>
          </span>
          <span class="product-compare-message">
              <span class="compare-label"  style="display: none;">Add 
                    <span class="compare-msg-number-first">1</span>
                     or 
                    <span class="compare-msg-number-second">2</span> items
              </span>
              <span class="btn-compare-now">Compare</span>
          </span>
      </div>
</div>
      </div>
      {% for option in product.options %}
      {% assign option_index = 'option' | append: forloop.index %}
      {% assign option_index_number = forloop.index %}
      {% assign option_name  = option.name | downcase %}              
      {% if swatch_options contains option_name or text_options contains option_name or image_options contains option_name %}
      <div class="spf-product__swatchs round">
        {% for value in option.values %}
        {% assign available = false %}
        {% assign swatch_image = false %}
        {% for variant in product.variants %}
        {% if variant[option_index] == value %}
        {% if swatch_image == false and variant.image %}
        {% assign swatch_image = variant.image.src %}
        {% endif %}
        {% if variant.available %}
        {% assign available = true %}
        {% endif %}
        {% endif %}
        {% endfor %}
        {% assign option_value  = value | downcase %}
        <span data-option="{{option_index_number}}" class="spf-product__swatch{% if selected_or_first_available_variant[option_index] == value %} is-selected{% endif %}" title="{{value | escape}}">
          <span translatable class="spf-product__swatch-inner">
            {% if image_options contains option_name and swatch_image %}
            <span class="spf-product__swatch-image" style="background-image: url('{{ swatch_image | img_url: '24x' }}')"></span>
            {% elsif swatch_options contains option_name %}
            {% if swatches[option_name] and swatches[option_name][option_value] %}
            {% if swatches[option_name][option_value].mode == 1 %}
            <span class="spf-product__swatch-color" style="background-color: {{ swatches[option_name][option_value].color_1 }}"></span>
            {% elsif swatches[option_name][option_value].mode == 2 %}
            <span class="spf-product__swatch-color" style="background-color: {{ swatches[option_name][option_value].color_1 }}"></span>
            <span class="spf-product__swatch-color" style="border-right-color: {{ swatches[option_name][option_value].color_2 }}"></span>
            {% elsif swatches[option_name][option_value].mode == 3 %}
            <span class="spf-product__swatch-image" style="background-image: url('{{ swatches[option_name][option_value].image }}')"></span>
            {% endif %}
            {% elsif option_name contains 'colo' %}
            {% assign value_handle = option_value | handle %}
            {% assign value_jpg    = value_handle | append: '.jpg' %}
            {% assign value_png    = value_handle | append: '.png' %}
            {% assign value_jpeg   = value_handle | append: '.jpeg' %}
            <span class="spf-product__swatch-image" style="background-color: {{ option_value | replace:"'", "\'" | escape_once }};{% if images contains value_jpg %}background-image: url('{{ value_jpg | asset_img_url: '50x' | prepend: 'https:' }}'){% elsif images contains value_png %}background-image: url('{{ value_png | asset_img_url: '50x' | prepend: 'https:' }}'){% elsif images contains value_jpeg %}background-image: url('{{ value_jpeg | asset_img_url: '50x' | prepend: 'https:' }}'){% endif %}"></span>
            {% else %}
            <span class="spf-product__swatch-text">{{value}}</span>
            {% endif %}
            {% else %}
            <span class="spf-product__swatch-text">{{value}}</span>
            {% endif %}
          </span>
        </span>
        {% endfor %}
      </div>
      {% endif %}              
      {% endfor %}
    </div>

    <form class="spf-product__form" action="/cart/add" method="post" data-iso="{% endraw %}{{ request.locale.iso_code }}{% raw %}">
      {% endraw %}{% if request.locale.iso_code == 'ar' %}{% raw %}
      	<input type="hidden" name="return_to" value="/ar/checkout/" />
      {% endraw %}{% else %}{% raw %}
      	<input type="hidden" name="return_to" value="/checkout/" />
      {% endraw %}{% endif %}{% raw %}
      <select name="id" class="spf-product__variants">
        {% for variant in product.variants %}
          {% assign variantIDS = variant.id %}
        <option data-option1="{{variant.option1 | escape}}" data-option2="{{variant.option2 | escape}}" data-option3="{{variant.option3 | escape}}" data-price="{{variant.price}}" data-compare_at_price="{{variant.compare_at_price}}" data-available="{{variant.available}}" data-image="{% if variant.image.src %}{{variant.image.src | img_url: image_size }}{% endif %}" {% if variant.id == selected_or_first_available_variant.id %} selected="selected" {% endif %} value="{{ variant.id }}">{{ variant.title }}</option>
        {% endfor %}
      </select>
       {% if variantQty > 1 %}
       <button data-variant="{{ product.variants[0].id }}" translatable {% unless product.available %}disabled{% endunless %} type="submit" class="{% unless product.available %}notify_me-disable {% endunless %}spf-product__form-btn-addtocart" data-available="{{translation.product.add_to_cart | default: "Add to cart"}}" data-soldout="{{translation.product.sold_out | default: "Sold out"}}" data-unavailable="{{translation.product.unavailable | default: "Unavailable"}}"><span class="plp_addToCart">{% if product.available %}{{translation.product.add_to_cart | default: "Add to cart"}}{% else %}{{translation.product.sold_out | default: "Sold out"}}{% endif %}</span>
             <span class="hide loader" data-loader="">
                <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-spinner" viewBox="0 0 20 20"><path d="M7.229 1.173a9.25 9.25 0 1 0 11.655 11.412 1.25 1.25 0 1 0-2.4-.698 6.75 6.75 0 1 1-8.506-8.329 1.25 1.25 0 1 0-.75-2.385z" fill="#919EAB"></path></svg>
              </span>
       </button>
      {% endif %}

      {% if variantQty <= 1 %}
      <a href="#" class="BIS_trigger notify_me-btn" data-product-data="{{ product | json | escape }}">
        {{ 'Notify Me' }}
      </a>
      {% endif %}
    </form>

	</div>
  </div>
</div>
{% endunless %}
{% endif %}
{% endraw %} 

<style>
 .sold-out-tag {
    font-size: 13px;
    text-transform: uppercase;
    font-weight: 500;
    top: 15px;
    width: 100%;
    margin: 0;
    padding: 20px 13px;
    display: inline-block;
    left: 13.5px !important;
    line-height: 12px;
    color: #1b1c1e;
    background: none !important;
}
  div #gf_pagination_wrap button.gf-loadmore-btn {
  height: 40px;
  background: transparent;
  color: #1b1c1e !important;
  border-color: #1b1c1e !important;
  max-width: 100% !important;
  width: 100%; 
}

div #gf_pagination_wrap button.gf-loadmore-btn:hover {
  background: none;
  color: #595959!important;
}
  .spf-image-wrapper-change {
    display: flex;
    justify-content: space-between;
    position: absolute;
    top: 0;
    height: 100%;
    width: 100%;
    z-index:10;
}
  .spf-image-wrapper-change>div {
    height: 100%;
    width: 100%;
}
  .spf-product-card__inner:hover {
    cursor: pointer;
}
</style>
 