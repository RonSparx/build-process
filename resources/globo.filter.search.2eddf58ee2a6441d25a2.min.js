(self.webpackChunkgloboFilter=self.webpackChunkgloboFilter||[]).push([[464],{549:(e,t,o)=>{var r,s,l,n;window.globofilter=(r=window.globofilter||{},s=r.$,l={},n=window.innerWidth?window.innerWidth:0!=document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.clientWidth,r.getRedirectUrl=function(e){var t=!1;if(r.shop.redirects){var o=e.toLowerCase();(r.shop.redirects.hasOwnProperty(e)||r.shop.redirects.hasOwnProperty(o))&&(t=(-1==(t=r.shop.redirects[e]||r.shop.redirects[o]).indexOf("http")?r.shop.url:"")+(-1==t.indexOf("http")&&"/"!=t.substring(0,1)?"/":"")+t)}return t},r.initInputRedirectUrl=function(e){e.on("keyup",(function(t){var o=r.getRedirectUrl(e.val());"Enter"!==t.key&&13!==t.keyCode||0==o||(t.preventDefault(),t.stopPropagation(),window.location.href=o)})),e.closest("form").unbind("submit").bind("submit",(function(t){var o=r.getRedirectUrl(e.val());if(0!=o)return t.preventDefault(),window.location.href=o,!1})),e.closest("form").find('[type="submit"]').unbind("click").bind("click",(function(t){var o=r.getRedirectUrl(e.val());if(0!=o)return t.preventDefault(),window.location.href=o,!1}))},r.parseSearchTemplate=function(){var e=s("#gspfSearchResult").length?"#gspfSearchResult":!!s("#gspfSearchResultTemplate").length&&"#gspfSearchResultTemplate";s(e).length&&(r.template.results=r.GLiquid.parse(s(e).html()))},r.getSearchData=function(e,t){window.globoSearchConvertKeyword&&"function"==typeof window.globoSearchConvertKeyword&&(e=window.globoSearchConvertKeyword(e)),r.dispatchCustomEvent(window,"globoFilterSearch",e);var o=e?e.trim():e;if(o in l)t(l[o]);else{var n=null;if(null!=r.collection.excludeTags&&""!=r.collection.excludeTags&&(n=r.collection.excludeTags),null!=r.collection.tags&&""!=r.collection.tags&&r.collection.tags,r.predictiveSearch&&(r.search.pages_suggestion.enable||r.search.articles_suggestion.enable||r.search.keywords_suggestion.enable)&&""!=e){let a=5;r.search.pages_suggestion.enable&&r.search.pages_suggestion.limit>a&&(a=r.search.pages_suggestion.limit),r.search.articles_suggestion.enable&&r.search.articles_suggestion.limit>a&&(a=r.search.articles_suggestion.limit),r.search.keywords_suggestion.enable&&r.search.keywords_suggestion.limit>a&&(a=r.search.keywords_suggestion.limit),a>10&&(a=10),s.when(s.ajax({url:r.api.url+"/search",method:"get",dataType:"jsonp",data:{shop:r.shop.domain,locale:r.shop.cur_locale&&r.shop.locale!=r.shop.cur_locale?r.shop.cur_locale:null,term:e,country:r.shop.cur_country?r.shop.cur_country:null,company_location_id:r.isB2B?r.customer.company_location_id:null,excludeTags:n,tags:window.searchTags||null,sort:window.searchSort||"relevance"}}),s.ajax({url:r.shop.predictive_search_url+".json?q="+e+"&resources[type]="+(r.search.articles_suggestion?"article":"")+(r.search.articles_suggestion&&r.search.pages_suggestion?",":"")+(r.search.pages_suggestion?"page":"")+",query&resources[limit]="+a,method:"get",dataType:"json"})).done((function(e,s){Array.isArray(e)&&void 0!==e[0]&&(e=e[0]),Array.isArray(s)&&void 0!==s[0]&&(s=s[0]),e.result&&""!=e.result.term&&e.result.total_product&&r.addSearchTerms(e.result.term,e.result.total_product?e.result.total_product:0),e.result.hasOwnProperty("products")&&e.result.products.length&&e.result.products.map((function(e){return r.productTransform(e)})),void 0!==s.resources&&void 0!==s.resources.results&&(void 0!==s.resources.results.pages&&s.resources.results.pages.length>0&&(e.result.pages=s.resources.results.pages.slice(0,r.search.pages_suggestion.limit)),void 0!==s.resources.results.articles&&s.resources.results.articles.length>0&&(e.result.articles=s.resources.results.articles.slice(0,r.search.articles_suggestion.limit)),void 0!==s.resources.results.queries&&s.resources.results.queries.length>0&&(e.result.suggestions=s.resources.results.queries.slice(0,r.search.keywords_suggestion.limit).map((e=>({keyword:e.text}))))),(e.result.articles&&e.result.articles.length>0||e.result.pages&&e.result.pages.length>0)&&(e.result.isEmpty=!1),l[o]=e,t(e)}))}else s.ajax({url:r.api.url+"/search",method:"get",dataType:"jsonp",data:{shop:r.shop.domain,locale:r.shop.cur_locale&&r.shop.locale!=r.shop.cur_locale?r.shop.cur_locale:null,term:e,country:r.shop.cur_country?r.shop.cur_country:null,company_location_id:r.isB2B?r.customer.company_location_id:null,excludeTags:n,tags:window.searchTags||null,sort:window.searchSort||"relevance"},success:function(e){e.result&&""!=e.result.term&&e.result.total_product&&r.addSearchTerms(e.result.term,e.result.total_product?e.result.total_product:0),e.result.hasOwnProperty("products")&&e.result.products.length&&e.result.products.map((function(e){return r.productTransform(e)})),l[o]=e,t(e)}})}},r.initSearch=function(){setTimeout((()=>{r.parseSearchTemplate()}),0),null!=r.collection.excludeTags&&""!=r.collection.excludeTags&&r.collection.excludeTags,null!=r.collection.tags&&""!=r.collection.tags&&r.collection.tags,s("html").removeClass("spf-status-loading");var e=null;s(document).on("input",".gl-d-searchbox-input",(function(t){var o=s(t.currentTarget);null!=e&&clearTimeout(e),e=setTimeout((function(){r.getSearchData(o.val(),(function(e){null==r.template.results&&r.parseSearchTemplate(),e.result.url=r.getRedirectUrl(e.result.term);var t=r.GLiquid.renderSync(r.template.results,{result:e.result,layout:1,translation:r.translation});s(".gl-fullscreen-initial-content").html(s(t).find(".gl-fullscreen-initial-content").html()),s(".gl-fullscreen-suggestions").html(s(t).find(".gl-fullscreen-suggestions").html()),s("body").addClass("gl-search-open"),r.dispatchCustomEvent(window,"globoFilterRenderSearchCompleted"),r.initOwlCarousel(!1)}))}),300)})).on("keyup",(function(e){27==e.keyCode&&s("#glFilter-search-popup").fadeOut(150,(function(){s("#glFilter-search-popup").remove(),s("body").removeClass("gl-search-open"),r.dispatchCustomEvent(window,"globoFilterCloseSearchCompleted")}))})).on("click",".gl-d-close-btn, .gl-backdrop",(function(e){s("#glFilter-search-popup").fadeOut(150,(function(){s("#glFilter-search-popup").remove(),s("body").removeClass("gl-search-open"),r.dispatchCustomEvent(window,"globoFilterCloseSearchCompleted")}))})).on("focus",'form[action*="search"] input[type="text"]:not(.gf-controls-search-input), form[action*="search"] input[type="search"]:not(.gf-controls-search-input), .search-input, .search__input, #text-search:not(.gf-controls-search-input), .search--root input.search--textbox:not(.gf-controls-search-input), #SearchContainer #search-input:not(.gf-controls-search-input)',(function(e){if((n<=991&&!window.mobileSearchNormalLayout||1==parseInt(r.search.layout))&&(null==r.template.results&&r.parseSearchTemplate(),0==s("#glFilter-search-popup").length)){var t=r.GLiquid.renderSync(r.template.results,{result:{isEmpty:1,loading:!0},layout:1,translation:r.translation});s(t).appendTo("body"),r.dispatchCustomEvent(window,"globoFilterRenderSearchCompleted"),s(".gl-d-searchbox-input").val(s(e.currentTarget).val()).attr("placeholder",s(e.currentTarget).attr("placeholder")).focus().trigger("input"),r.initInputRedirectUrl(s(".gl-d-searchbox-input"))}})).on("click",".globo-search-activator",(function(e){if((n<=991&&!window.mobileSearchNormalLayout||1==parseInt(r.search.layout))&&(null==r.template.results&&r.parseSearchTemplate(),0==s("#glFilter-search-popup").length)){var t=r.GLiquid.renderSync(r.template.results,{result:{isEmpty:1,loading:!0},layout:1,translation:r.translation});s(t).appendTo("body"),r.dispatchCustomEvent(window,"globoFilterRenderSearchCompleted"),s(".gl-d-searchbox-input").val(s(e.currentTarget).val()).attr("placeholder",s(e.currentTarget).attr("placeholder")).focus().trigger("input"),r.initInputRedirectUrl(s(".gl-d-searchbox-input"))}})),1!=parseInt(r.search.layout)&&(n>991||window.mobileSearchNormalLayout)&&r.initAutoComplete()},r.initAutoComplete=function(){Promise.all([o.e(567),o.e(413)]).then(o.bind(o,565)).then((()=>{s('form[action*="search"] input[type="text"]:not(.gf-controls-search-input), form[action*="search"] input[type="search"]:not(.gf-controls-search-input), .search-input, .search__input, #text-search:not(.gf-controls-search-input)').each((function(e){var t=s(this);t.addClass("gf-autocomplete-input"),r.initInputRedirectUrl(t);var o={of:t,at:"center bottom",my:"center top",collision:"flip"},l=t.closest("form").length?t.closest("form"):t,a=l.offset().left,i=l.width(),c=n-a-i;Math.abs(l.offset().top+l.height()-(t.offset().top+t.height())),i>650||a>325&&c>325||a-c<50?o={of:t,at:"center bottom",my:"center top",collision:"flip"}:a>c?o={of:t,at:"right bottom",my:"right top",collision:"flip"}:a<c&&(o={of:t,at:"left bottom",my:"left top",collision:"flip"}),o=window.autocompletePosition?Object.assign({},o,window.autocompletePosition):o,t.autocomplete({minLength:r.search.zero_character_suggestion?0:1,delay:250,appendTo:window.autocompleteFormSelector?s(window.autocompleteFormSelector):null,classes:{"ui-autocomplete":3==parseInt(r.search.layout)?"ui-autocomplete-flex":"ui-autocomplete"},position:o,source:function(e,t){r.getSearchData(e.term,(function(e){t(e),r.dispatchCustomEvent(window,"globoFilterSearchCompleted",e)}))},open:function(){r.initOwlCarousel(t)}}).focus((function(){(""!=t.val()||r.search.zero_character_suggestion)&&t.autocomplete("search")})).data("ui-autocomplete")._renderItem=function(e,t){t.url=r.getRedirectUrl(t.term),null==r.template.results&&r.parseSearchTemplate();var o=r.GLiquid.renderSync(r.template.results,{result:t,layout:r.search.layout,translation:r.translation});return s(o).appendTo(e)},window.addEventListener("globoFilterSearchClose",(function(){try{t.autocomplete("close")}catch(e){console.log(e)}}))})),s(window).resize((function(){s(".ui-autocomplete").css("display","none")}))}))},r.resizeWidget=function(e){if(!window.autocompleteFormSelector){var t=e,o=t.autocomplete("widget");resultTop=o.offset().top,o.css({height:"auto"});var r=o.height(),l=t.offset().top,n=t.outerHeight(),a=s(window).scrollTop(),i=window.innerHeight?window.innerHeight:0!=document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight,c=resultTop<l?l-a:a+i-(l+n)-15,u=Math.min(r,c),p=resultTop<l?l-u:l+n;o.css({height:u+"px",top:p+"px"})}},r.initOwlCarousel=function(e){s(".gl-fullscreen-initial-content .owl-carousel").length?o.e(369).then(o.t.bind(o,9,23)).then((()=>{s("#gl-fullscreen-recommended-products").owlCarousel({loop:!1,margin:20,nav:!0,dots:!1,navText:['<svg class="Polaris-Icon__Svg" viewBox="0 0 20 20" focusable="false" aria-hidden="true"><path d="M12 16a.997.997 0 0 1-.707-.293l-5-5a.999.999 0 0 1 0-1.414l5-5a.999.999 0 1 1 1.414 1.414L8.414 10l4.293 4.293A.999.999 0 0 1 12 16" fill-rule="evenodd"></path></svg>','<svg class="Polaris-Icon__Svg" viewBox="0 0 20 20" focusable="false" aria-hidden="true"><path d="M8 16a.999.999 0 0 1-.707-1.707L11.586 10 7.293 5.707a.999.999 0 1 1 1.414-1.414l5 5a.999.999 0 0 1 0 1.414l-5 5A.997.997 0 0 1 8 16" fill-rule="evenodd"></path></svg>'],responsiveBaseElement:"#gl-fullscreen-recommended-products",onInitialized:function(){e&&r.resizeWidget(e)},responsive:window.globoOwlCarouselResponsive||{0:{items:1},480:{items:2},767:{items:3},991:{items:4},1200:{items:5},1400:{items:6}}})})):e&&r.resizeWidget(e)},r)}}]);